{"version":3,"file":"sidebar.e6a6245660920ecb64ec.hot-update.js","mappings":"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","sources":["webpack://tean-mate/./2-features/STT/ArtyomAssistant.js","webpack://tean-mate/webpack/runtime/getFullHash"],"sourcesContent":["import Artyom from '/node_modules/artyom.js/build/artyom.js';\n\nexport default class ArtyomAssistant {\n    constructor(sidebarController) {\n        this.artyom = new Artyom();\n        this.sidebarController = sidebarController; // Reference to SidebarController\n        this.isListening = false;\n        this.setupCommands();\n    }\n\n    setupCommands() {\n        this.artyom.addCommands([\n            {\n                indexes: [\"text to speech\", \"start reading\"],\n                action: () => {\n                    this.triggerExtensionAction(\"tts\");\n                }\n            },\n            {\n                indexes: [\"stop\", \"pause\"],\n                action: () => {\n                    this.triggerExtensionAction(\"toggle-reading\");\n                }\n            },\n            {\n                indexes: [\"sign language\", \"show sign language\"],\n                action: () => {\n                    this.triggerExtensionAction(\"signLanguage\");\n                }\n            },\n            {\n                indexes: [\"image caption\", \"describe image\"],\n                action: () => {\n                    this.triggerExtensionAction(\"imageCaption\");\n                }\n            },\n            {\n                indexes: [\"next\", \"skip next\"],\n                action: () => {\n                    this.triggerExtensionAction(\"skip-next\");\n                }\n            },\n            {\n                indexes: [\"back \", \"skip back\"],\n                action: () => {\n                    this.triggerExtensionAction(\"skip-previous\");\n                }\n            },\n            {\n                indexes: [\"open link\", \"open this link\"],\n                action: () => {\n                    this.triggerExtensionAction(\"access-link\");\n                }\n            },\n            {\n                indexes: [\"search for *\", \"find *\"],\n                smart: true,\n                action: (i, wildcard) => {\n                    console.log(`Voice command detected search: ${wildcard}`);\n                    this.triggerExtensionAction(\"search\", wildcard);\n                }\n            }\n        ]);\n\n        this.artyom.redirectRecognizedTextOutput((recognized, isFinal) => {\n            const recognizedTextDiv = document.getElementById(\"recognizedText\");\n            recognizedTextDiv.textContent = isFinal ? `You said: ${recognized}` : recognized;\n        });\n    }\n\n    startListening() {\n        if (!this.isListening) {\n            this.isListening = true;\n            console.log(\"Artyom is now listening...\");\n            this.artyom.fatality();\n            setTimeout(() => {\n                this.artyom.initialize({\n                    lang: \"en-US\",\n                    continuous: true,\n                    listen: true,\n                    debug: true,\n                    speed: 1,\n                }).then(() => {\n                    console.log(\"Artyom is listening!\");\n                    this.isListening = true;\n                }).catch(err => {\n                    console.error(\"Artyom initialization error:\", err);\n                });\n            }, 250);\n        }\n    }\n\n    stopListening() {\n        if (this.isListening) {\n            this.isListening = false;\n            console.log(\"Artyom stopped listening.\");\n            this.artyom.fatality();\n            console.log(\"Artyom has stopped listening.\");\n            this.isListening = false;\n        }\n    }\n\n    toggleListening() {\n        if (this.isListening) {\n            this.stopListening();\n        } else {\n            this.startListening();\n        }\n        return this.isListening;\n    }\n\n    triggerExtensionAction(action, query = null) {\n        if (this.sidebarController) {\n            console.log(`Triggering action: ${action}, Query: ${query}`);\n            if (query) {\n                this.sidebarController.triggerButtonAction(action, query);\n            } else {\n                this.sidebarController.triggerButtonAction(action);\n            }\n        } else {\n            console.warn(\"SidebarController is not set.\");\n        }\n    }\n}\n","__webpack_require__.h = () => (\"4927df8903e52d27d53d\")"],"names":["Artyom","ArtyomAssistant","sidebarController","_classCallCheck","artyom","isListening","setupCommands","_createClass","key","value","_this","addCommands","indexes","action","triggerExtensionAction","smart","i","wildcard","console","log","concat","redirectRecognizedTextOutput","recognized","isFinal","recognizedTextDiv","document","getElementById","textContent","startListening","_this2","fatality","_setTimeout","initialize","lang","continuous","listen","debug","speed","then","err","error","stopListening","toggleListening","query","arguments","length","undefined","_context","_concatInstanceProperty","call","triggerButtonAction","warn","default"],"sourceRoot":""}