{"version":3,"file":"background.877b3abed96e878bdea3.hot-update.js","mappings":"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","sources":["webpack://tean-mate/./3-background/background.js","webpack://tean-mate/webpack/runtime/getFullHash"],"sourcesContent":["import { initializeVoices } from \"../2-features/TTS/initializeVoices.js\";\n\nclass AccessibilityBackgroundHandler {\n    constructor() {\n        // Define command mappings for keyboard shortcuts and actions\n        this.commandMappings = {\n            \"skip-next\": \"skipNext\",\n            \"skip-previous\": \"skipPrevious\",\n            \"toggle-reading\": \"toggleReading\",\n            \"access-link\": \"accessLink\"\n        };\n\n        // Initialize background services\n        this.initialize();\n    }\n\n    // Set up event listeners and initialization processes\n    initialize() {\n        chrome.runtime.onInstalled.addListener(this.handleExtensionInstall.bind(this));\n        chrome.action.onClicked.addListener(this.handleActionClick.bind(this));\n        chrome.commands.onCommand.addListener(this.handleCommand.bind(this));\n        chrome.runtime.onMessage.addListener(this.handleIncomingMessage.bind(this));\n\n        // Initialize text-to-speech voices\n        this.initializeVoices();\n    }\n\n    // Asynchronously initialize available TTS voices\n    async initializeVoices() {\n        try {\n            const voices = await initializeVoices();\n            chrome.storage.local.set({ voices });\n            console.log(\"Accessibility voices successfully initialized:\", voices);\n        } catch (error) {\n            console.error(\"Voice initialization failed:\", error);\n        }\n    }\n\n    // Handle extension first-time installation\n    handleExtensionInstall() {\n        console.log(\"Accessibility Companion installed\");\n        // Potential first-time setup logic\n    }\n\n    // Handle extension icon click\n    handleActionClick() {\n        console.log(\"Accessibility Companion activated\");\n        // Future: Open specific accessibility panel or trigger main functionality\n    }\n\n    // Process keyboard commands and shortcuts\n    handleCommand(command) {\n        const action = this.commandMappings[command];\n        if (action) {\n            this.sendMessageToActiveTab({ action });\n        } else {\n            console.warn(`Unrecognized accessibility command: ${command}`);\n        }\n    }\n\n    // Handle incoming messages from content scripts\n    handleIncomingMessage(request, sender, sendResponse) {\n        if (request.action === \"getVoices\") {\n            chrome.storage.local.get(\"voices\", (result) => {\n                sendResponse({ voices: result.voices });\n            });\n            return true; // Indicate asynchronous response\n        }\n    }\n\n    // Send message to currently active browser tab\n    sendMessageToActiveTab(message) {\n        chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n            if (tabs.length > 0) {\n                chrome.tabs.sendMessage(tabs[0].id, message);\n            } else {\n                console.warn(\"No active tab found for accessibility action\");\n            }\n        });\n    }\n}\n\n// Instantiate the accessibility background handler\nnew AccessibilityBackgroundHandler();","__webpack_require__.h = () => (\"2eacb6ef85b184b7071d\")"],"names":["initializeVoices","AccessibilityBackgroundHandler","_classCallCheck","commandMappings","initialize","_createClass","key","value","_context","_context2","_context3","_context4","chrome","runtime","onInstalled","addListener","_bindInstanceProperty","handleExtensionInstall","call","action","onClicked","handleActionClick","commands","onCommand","handleCommand","onMessage","handleIncomingMessage","_initializeVoices2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","voices","wrap","_callee$","_context5","prev","next","sent","storage","local","set","console","log","t0","error","stop","apply","arguments","command","sendMessageToActiveTab","warn","concat","request","sender","sendResponse","get","result","message","tabs","query","active","currentWindow","length","sendMessage","id"],"sourceRoot":""}