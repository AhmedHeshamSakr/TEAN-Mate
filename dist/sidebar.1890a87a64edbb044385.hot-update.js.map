{"version":3,"file":"sidebar.1890a87a64edbb044385.hot-update.js","mappings":"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","sources":["webpack://tean-mate/./1-sidebar/sidebar.js","webpack://tean-mate/webpack/runtime/getFullHash"],"sourcesContent":["import ArtyomAssistant from \"../2-features/STT/ArtyomAssistant.js\"; \n\nclass SidebarController {\n  constructor() {\n    this.voiceAssistant = null; // Declare but do not initialize the assistant\n    this.buttons = {}; // Store button references\n    this.initialize();\n  }\n\n  initialize() {\n    document.getElementById(\"sidebar-title\").textContent = chrome.runtime.getManifest().name;\n    document.addEventListener(\"DOMContentLoaded\", this.setupEventListeners.bind(this));\n  }\n\n  setupEventListeners() {\n    const buttons = document.querySelectorAll(\".accessibility-button\");\n    if (!buttons.length) {\n      console.warn(\"No accessibility buttons found!\");\n      return;\n    }\n\n    this.buttons.tts = buttons[0];\n    this.buttons.stt = buttons[1];\n    this.buttons.signLanguage = buttons[2];\n    this.buttons.imageCaption = buttons[3];\n\n    this.addButtonListener(this.buttons.tts, this.handleTTS.bind(this));\n    this.addButtonListener(this.buttons.stt, this.handleSTT.bind(this));\n    this.addButtonListener(this.buttons.signLanguage, this.handleSignLanguage.bind(this));\n    this.addButtonListener(this.buttons.imageCaption, this.handleImageCaption.bind(this));\n  }\n\n  addButtonListener(button, handler) {\n    if (!button) {\n      console.warn(\"Button not found, skipping event binding.\");\n      return;\n    }\n    button.addEventListener(\"click\", handler);\n  }\n\n  handleTTS() {\n    console.log(\"Text-to-Speech button clicked\");\n    this.sendMessageToActiveTab({ action: \"extractText\" });\n  }\n\n  handleSTT() {\n    console.log(\"Speech-to-Text button clicked\");\n\n    if (!this.voiceAssistant) {\n        // Initialize ArtyomAssistant when the button is clicked for the first time\n        this.voiceAssistant = new ArtyomAssistant();\n\n        // Add commands related to sidebar actions\n        this.voiceAssistant.artyom.addCommands([\n            {\n                indexes: [\"start reading\"],\n                action: () => {\n                    console.log(\"Command detected: Start Reading\");\n                    this.handleTTS();\n                }\n            },\n            {\n                indexes: [\"stop reading\"],\n                action: () => {\n                    console.log(\"Command detected: Stop Reading\");\n                    // Add functionality to stop TTS (if applicable)\n                    this.voiceAssistant.artyom.say(\"Reading stopped.\");\n                }\n            },\n            {\n                indexes: [\"next section\"],\n                action: () => {\n                    console.log(\"Command detected: Next Section\");\n                    this.sendMessageToActiveTab({ action: \"skipToNext\" });\n                }\n            },\n            {\n                indexes: [\"previous section\"],\n                action: () => {\n                    console.log(\"Command detected: Previous Section\");\n                    this.sendMessageToActiveTab({ action: \"skipToPrevious\" });\n                }\n            },\n        ]);\n    }\n\n    // Toggle the listening state\n    this.voiceAssistant.toggleListening();\n    const status = this.voiceAssistant.isListening ? \"activated\" : \"deactivated\";\n    alert(`Speech-to-Text ${status}`);\n}\n\n  handleSignLanguage() {\n    console.log(\"Sign Language Translator button clicked\");\n    alert(\"Sign Language Translator activated\");\n  }\n\n  handleImageCaption() {\n    console.log(\"Image Captioning button clicked\");\n    alert(\"Image Captioning activated\");\n  }\n\n  sendMessageToActiveTab(message) {\n    chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n      if (tabs.length > 0) {\n        chrome.tabs.sendMessage(tabs[0].id, message);\n      } else {\n        console.warn(\"No active tab found\");\n      }\n    });\n  }\n}\n\nnew SidebarController();","__webpack_require__.h = () => (\"b07ee8b0d2aafa807614\")"],"names":["ArtyomAssistant","SidebarController","_classCallCheck","voiceAssistant","buttons","initialize","_createClass","key","value","_context","document","getElementById","textContent","chrome","runtime","getManifest","name","addEventListener","_bindInstanceProperty","setupEventListeners","call","_context2","_context3","_context4","_context5","querySelectorAll","length","console","warn","tts","stt","signLanguage","imageCaption","addButtonListener","handleTTS","handleSTT","handleSignLanguage","handleImageCaption","button","handler","log","sendMessageToActiveTab","action","_this","artyom","addCommands","indexes","say","toggleListening","status","isListening","alert","concat","message","tabs","query","active","currentWindow","sendMessage","id"],"sourceRoot":""}