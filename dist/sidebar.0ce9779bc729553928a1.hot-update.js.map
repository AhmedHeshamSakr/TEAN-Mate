{"version":3,"file":"sidebar.0ce9779bc729553928a1.hot-update.js","mappings":"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","sources":["webpack://tean-mate/./node_modules/artyom.js/build/artyom.window.min.js","webpack://tean-mate/./2-features/STT/ArtyomHandller.js","webpack://tean-mate/webpack/runtime/getFullHash"],"sourcesContent":["/**\r\n * Artyom.js is a voice control, speech recognition and speech synthesis JavaScript library.\r\n *\r\n * @requires {webkitSpeechRecognition && speechSynthesis}\r\n * @license MIT\r\n * @version 1.0.6\r\n * @copyright 2017 Our Code World (www.ourcodeworld.com) All Rights Reserved.\r\n * @author Carlos Delgado (https://github.com/sdkcarlos) and Sema García (https://github.com/semagarcia)\r\n * @see https://sdkcarlos.github.io/sites/artyom.html\r\n * @see http://docs.ourcodeworld.com/projects/artyom-js\r\n */\r\nvar Artyom=function(){function e(){this.ArtyomCommands=[],this.ArtyomVoicesIdentifiers={\"de-DE\":[\"Google Deutsch\",\"de-DE\",\"de_DE\"],\"es-ES\":[\"Google español\",\"es-ES\",\"es_ES\",\"es-MX\",\"es_MX\"],\"it-IT\":[\"Google italiano\",\"it-IT\",\"it_IT\"],\"jp-JP\":[\"Google 日本人\",\"ja-JP\",\"ja_JP\"],\"en-US\":[\"Google US English\",\"en-US\",\"en_US\"],\"en-GB\":[\"Google UK English Male\",\"Google UK English Female\",\"en-GB\",\"en_GB\"],\"pt-BR\":[\"Google português do Brasil\",\"pt-PT\",\"pt-BR\",\"pt_PT\",\"pt_BR\"],\"pt-PT\":[\"Google português do Brasil\",\"pt-PT\",\"pt_PT\"],\"ru-RU\":[\"Google русский\",\"ru-RU\",\"ru_RU\"],\"nl-NL\":[\"Google Nederlands\",\"nl-NL\",\"nl_NL\"],\"fr-FR\":[\"Google français\",\"fr-FR\",\"fr_FR\"],\"pl-PL\":[\"Google polski\",\"pl-PL\",\"pl_PL\"],\"id-ID\":[\"Google Bahasa Indonesia\",\"id-ID\",\"id_ID\"],\"hi-IN\":[\"Google हिन्दी\",\"hi-IN\",\"hi_IN\"],\"zh-CN\":[\"Google 普通话（中国大陆）\",\"zh-CN\",\"zh_CN\"],\"zh-HK\":[\"Google 粤語（香港）\",\"zh-HK\",\"zh_HK\"],native:[\"native\"]},window.hasOwnProperty(\"speechSynthesis\")?speechSynthesis.getVoices():console.error(\"Artyom.js can't speak without the Speech Synthesis API.\"),window.hasOwnProperty(\"webkitSpeechRecognition\")?this.ArtyomWebkitSpeechRecognition=new window.webkitSpeechRecognition:console.error(\"Artyom.js can't recognize voice without the Speech Recognition API.\"),this.ArtyomProperties={lang:\"en-GB\",recognizing:!1,continuous:!1,speed:1,volume:1,listen:!1,mode:\"normal\",debug:!1,helpers:{redirectRecognizedTextOutput:null,remoteProcessorHandler:null,lastSay:null,fatalityPromiseCallback:null},executionKeyword:null,obeyKeyword:null,speaking:!1,obeying:!0,soundex:!1,name:null},this.ArtyomGarbageCollection=[],this.ArtyomFlags={restartRecognition:!1},this.ArtyomGlobalEvents={ERROR:\"ERROR\",SPEECH_SYNTHESIS_START:\"SPEECH_SYNTHESIS_START\",SPEECH_SYNTHESIS_END:\"SPEECH_SYNTHESIS_END\",TEXT_RECOGNIZED:\"TEXT_RECOGNIZED\",COMMAND_RECOGNITION_START:\"COMMAND_RECOGNITION_START\",COMMAND_RECOGNITION_END:\"COMMAND_RECOGNITION_END\",COMMAND_MATCHED:\"COMMAND_MATCHED\",NOT_COMMAND_MATCHED:\"NOT_COMMAND_MATCHED\"},this.Device={isMobile:!1,isChrome:!0},(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))&&(this.Device.isMobile=!0),-1==navigator.userAgent.indexOf(\"Chrome\")&&(this.Device.isChrome=!1),this.ArtyomVoice={default:!1,lang:\"en-GB\",localService:!1,name:\"Google UK English Male\",voiceURI:\"Google UK English Male\"}}return e.prototype.addCommands=function(e){var t=this,o=function(e){e.hasOwnProperty(\"indexes\")?t.ArtyomCommands.push(e):console.error(\"The given command doesn't provide any index to execute.\")};if(e instanceof Array)for(var r=0;r<e.length;r++)o(e[r]);else o(e);return!0},e.prototype.clearGarbageCollection=function(){return this.ArtyomGarbageCollection=[]},e.prototype.debug=function(e,t){var o=\"[v\"+this.getVersion()+\"] Artyom.js\";if(!0===this.ArtyomProperties.debug)switch(t){case\"error\":console.log(\"%c\"+o+\":%c \"+e,\"background: #C12127; color: black;\",\"color:black;\");break;case\"warn\":console.warn(e);break;case\"info\":console.log(\"%c\"+o+\":%c \"+e,\"background: #4285F4; color: #FFFFFF\",\"color:black;\");break;default:console.log(\"%c\"+o+\":%c \"+e,\"background: #005454; color: #BFF8F8\",\"color:black;\")}},e.prototype.detectErrors=function(){var e=this;if(\"file:\"==window.location.protocol){t=\"Error: running Artyom directly from a file. The APIs require a different communication protocol like HTTP or HTTPS\";return console.error(t),{code:\"artyom_error_localfile\",message:t}}if(!e.Device.isChrome){var t=\"Error: the Speech Recognition and Speech Synthesis APIs require the Google Chrome Browser to work.\";return console.error(t),{code:\"artyom_error_browser_unsupported\",message:t}}return\"https:\"!=window.location.protocol&&console.warn(\"Warning: artyom is being executed using the '\"+window.location.protocol+\"' protocol. The continuous mode requires a secure protocol (HTTPS)\"),!1},e.prototype.emptyCommands=function(){return this.ArtyomCommands=[]},e.prototype.execute=function(e){var t=this;if(e){if(t.ArtyomProperties.name){if(0!=e.indexOf(t.ArtyomProperties.name))return void t.debug('Artyom requires with a name \"'+t.ArtyomProperties.name+\"\\\" but the name wasn't spoken.\",\"warn\");e=e.substr(t.ArtyomProperties.name.length)}t.debug(\">> \"+e);for(l=0;l<t.ArtyomCommands.length;l++){for(var o=(u=t.ArtyomCommands[l]).indexes,r=-1,n=\"\",i=0;i<o.length;i++){p=o[i];if(u.smart){if(p instanceof RegExp)p.test(e)&&(t.debug(\">> REGEX \"+p.toString()+\" MATCHED AGAINST \"+e+\" WITH INDEX \"+i+\" IN COMMAND \",\"info\"),r=parseInt(i.toString()));else if(-1!=p.indexOf(\"*\")){var s=p.split(\"*\");if(s.length>2){console.warn(\"Artyom found a smart command with \"+(s.length-1)+\" wildcards. Artyom only support 1 wildcard for each command. Sorry\");continue}var a=s[0],c=s[1];\"\"==c||\" \"==c?-1==e.indexOf(a)&&-1==e.toLowerCase().indexOf(a.toLowerCase())||(n=(n=e.replace(a,\"\")).toLowerCase().replace(a.toLowerCase(),\"\"),r=parseInt(i.toString())):-1==e.indexOf(a)&&-1==e.toLowerCase().indexOf(a.toLowerCase())||-1==e.indexOf(c)&&-1==e.toLowerCase().indexOf(c.toLowerCase())||(n=(n=(n=e.replace(a,\"\").replace(c,\"\")).toLowerCase().replace(a.toLowerCase(),\"\").replace(c.toLowerCase(),\"\")).toLowerCase().replace(c.toLowerCase(),\"\"),r=parseInt(i.toString()))}else console.warn(\"Founded command marked as SMART but have no wildcard in the indexes, remove the SMART for prevent extensive memory consuming or add the wildcard *\");if(r>=0){r=parseInt(i.toString());break}}}if(r>=0)return t.triggerEvent(t.ArtyomGlobalEvents.COMMAND_MATCHED),m={index:r,instruction:u,wildcard:{item:n,full:e}}}for(l=0;l<t.ArtyomCommands.length;l++){for(var o=(u=t.ArtyomCommands[l]).indexes,r=-1,i=0;i<o.length;i++){p=o[i];if(!u.smart){if(e===p){t.debug(\">> MATCHED FULL EXACT OPTION \"+p+\" AGAINST \"+e+\" WITH INDEX \"+i+\" IN COMMAND \",\"info\"),r=parseInt(i.toString());break}if(e.toLowerCase()===p.toLowerCase()){t.debug(\">> MATCHED OPTION CHANGING ALL TO LOWERCASE \"+p+\" AGAINST \"+e+\" WITH INDEX \"+i+\" IN COMMAND \",\"info\"),r=parseInt(i.toString());break}}}if(r>=0)return t.triggerEvent(t.ArtyomGlobalEvents.COMMAND_MATCHED),m={index:r,instruction:u}}for(l=0;l<t.ArtyomCommands.length;l++){for(var o=(u=t.ArtyomCommands[l]).indexes,r=-1,i=0;i<o.length;i++)if(!u.smart){p=o[i];if(e.indexOf(p)>=0){t.debug(\">> MATCHED INDEX EXACT OPTION \"+p+\" AGAINST \"+e+\" WITH INDEX \"+i+\" IN COMMAND \",\"info\"),r=parseInt(i.toString());break}if(e.toLowerCase().indexOf(p.toLowerCase())>=0){t.debug(\">> MATCHED INDEX OPTION CHANGING ALL TO LOWERCASE \"+p+\" AGAINST \"+e+\" WITH INDEX \"+i+\" IN COMMAND \",\"info\"),r=parseInt(i.toString());break}}if(r>=0)return t.triggerEvent(t.ArtyomGlobalEvents.COMMAND_MATCHED),m={index:r,instruction:u}}if(t.ArtyomProperties.soundex)for(var l=0;l<t.ArtyomCommands.length;l++)for(var u=t.ArtyomCommands[l],o=u.indexes,r=-1,i=0;i<o.length;i++){var p=o[i];if(!u.smart&&t.soundex(e)==t.soundex(p)){t.debug(\">> Matched Soundex command '\"+p+\"' AGAINST '\"+e+\"' with index \"+i,\"info\"),r=parseInt(i.toString()),t.triggerEvent(t.ArtyomGlobalEvents.COMMAND_MATCHED);var m={index:r,instruction:u};return m}}t.debug(\"Event reached : \"+t.ArtyomGlobalEvents.NOT_COMMAND_MATCHED),t.triggerEvent(t.ArtyomGlobalEvents.NOT_COMMAND_MATCHED)}else console.warn(\"Internal error: Execution of empty command\")},e.prototype.fatality=function(){var e=this;return new Promise(function(t,o){e.ArtyomProperties.helpers.fatalityPromiseCallback=t;try{e.ArtyomFlags.restartRecognition=!1,e.ArtyomWebkitSpeechRecognition.stop()}catch(e){o(e)}})},e.prototype.getAvailableCommands=function(){return this.ArtyomCommands},e.prototype.getVoices=function(){return window.speechSynthesis.getVoices()},e.prototype.speechSupported=function(){return\"speechSynthesis\"in window},e.prototype.recognizingSupported=function(){return\"webkitSpeechRecognition\"in window},e.prototype.shutUp=function(){if(\"speechSynthesis\"in window)do{window.speechSynthesis.cancel()}while(!0===window.speechSynthesis.pending);this.ArtyomProperties.speaking=!1,this.clearGarbageCollection()},e.prototype.getProperties=function(){return this.ArtyomProperties},e.prototype.getLanguage=function(){return this.ArtyomProperties.lang},e.prototype.getVersion=function(){return\"1.0.6\"},e.prototype.hey=function(e,t){var o,r=this;this.Device.isMobile?(this.ArtyomWebkitSpeechRecognition.continuous=!1,this.ArtyomWebkitSpeechRecognition.interimResults=!1,this.ArtyomWebkitSpeechRecognition.maxAlternatives=1):(this.ArtyomWebkitSpeechRecognition.continuous=!0,this.ArtyomWebkitSpeechRecognition.interimResults=!0),this.ArtyomWebkitSpeechRecognition.lang=this.ArtyomProperties.lang,this.ArtyomWebkitSpeechRecognition.onstart=function(){r.debug(\"Event reached : \"+r.ArtyomGlobalEvents.COMMAND_RECOGNITION_START),r.triggerEvent(r.ArtyomGlobalEvents.COMMAND_RECOGNITION_START),r.ArtyomProperties.recognizing=!0,o=!0,e()},this.ArtyomWebkitSpeechRecognition.onerror=function(e){t(e.error),r.triggerEvent(r.ArtyomGlobalEvents.ERROR,{code:e.error}),\"audio-capture\"==e.error&&(o=!1),\"not-allowed\"==e.error&&(o=!1,e.timeStamp-void 0<100?r.triggerEvent(r.ArtyomGlobalEvents.ERROR,{code:\"info-blocked\",message:\"Artyom needs the permision of the microphone, is blocked.\"}):r.triggerEvent(r.ArtyomGlobalEvents.ERROR,{code:\"info-denied\",message:\"Artyom needs the permision of the microphone, is denied\"}))},r.ArtyomWebkitSpeechRecognition.onend=function(){!0===r.ArtyomFlags.restartRecognition?(!0===o?(r.ArtyomWebkitSpeechRecognition.start(),r.debug(\"Continuous mode enabled, restarting\",\"info\")):console.error(\"Verify the microphone and check for the table of errors in sdkcarlos.github.io/sites/artyom.html to solve your problem. If you want to give your user a message when an error appears add an artyom listener\"),r.triggerEvent(r.ArtyomGlobalEvents.COMMAND_RECOGNITION_END,{code:\"continuous_mode_enabled\",message:\"OnEnd event reached with continuous mode\"})):r.ArtyomProperties.helpers.fatalityPromiseCallback&&(setTimeout(function(){r.ArtyomProperties.helpers.fatalityPromiseCallback()},500),r.triggerEvent(r.ArtyomGlobalEvents.COMMAND_RECOGNITION_END,{code:\"continuous_mode_disabled\",message:\"OnEnd event reached without continuous mode\"})),r.ArtyomProperties.recognizing=!1};var n;if(\"normal\"==r.ArtyomProperties.mode&&(n=function(e){if(r.ArtyomCommands.length){var t=e.results.length;r.triggerEvent(r.ArtyomGlobalEvents.TEXT_RECOGNIZED);for(var o=e.resultIndex;o<t;++o){var n=e.results[o][0].transcript;if(e.results[o].isFinal){var i=r.execute(n.trim());if(\"function\"==typeof r.ArtyomProperties.helpers.redirectRecognizedTextOutput&&r.ArtyomProperties.helpers.redirectRecognizedTextOutput(n,!0),i&&1==r.ArtyomProperties.recognizing){r.debug(\"<< Executing Matching Recognition in normal mode >>\",\"info\"),r.ArtyomWebkitSpeechRecognition.stop(),r.ArtyomProperties.recognizing=!1,i.wildcard?i.instruction.action(i.index,i.wildcard.item,i.wildcard.full):i.instruction.action(i.index);break}}else{if(\"function\"==typeof r.ArtyomProperties.helpers.redirectRecognizedTextOutput&&r.ArtyomProperties.helpers.redirectRecognizedTextOutput(n,!1),\"string\"==typeof r.ArtyomProperties.executionKeyword&&-1!=n.indexOf(r.ArtyomProperties.executionKeyword)&&(i=r.execute(n.replace(r.ArtyomProperties.executionKeyword,\"\").trim()))&&1==r.ArtyomProperties.recognizing){r.debug(\"<< Executing command ordered by ExecutionKeyword >>\",\"info\"),r.ArtyomWebkitSpeechRecognition.stop(),r.ArtyomProperties.recognizing=!1,i.wildcard?i.instruction.action(i.index,i.wildcard.item,i.wildcard.full):i.instruction.action(i.index);break}r.debug(\"Normal mode : \"+n)}}}else r.debug(\"No commands to process in normal mode.\")}),\"quick\"==r.ArtyomProperties.mode&&(n=function(e){if(r.ArtyomCommands.length){var t=e.results.length;r.triggerEvent(r.ArtyomGlobalEvents.TEXT_RECOGNIZED);for(var o=e.resultIndex;o<t;++o){var n=e.results[o][0].transcript;if(e.results[o].isFinal){i=r.execute(n.trim());if(\"function\"==typeof r.ArtyomProperties.helpers.redirectRecognizedTextOutput&&r.ArtyomProperties.helpers.redirectRecognizedTextOutput(n,!1),i&&1==r.ArtyomProperties.recognizing){r.debug(\"<< Executing Matching Recognition in quick mode >>\",\"info\"),r.ArtyomWebkitSpeechRecognition.stop(),r.ArtyomProperties.recognizing=!1,i.wildcard?i.instruction.action(i.index,i.wildcard.item):i.instruction.action(i.index);break}}else{var i=r.execute(n.trim());if(\"function\"==typeof r.ArtyomProperties.helpers.redirectRecognizedTextOutput&&r.ArtyomProperties.helpers.redirectRecognizedTextOutput(n,!0),i&&1==r.ArtyomProperties.recognizing){r.debug(\"<< Executing Matching Recognition in quick mode >>\",\"info\"),r.ArtyomWebkitSpeechRecognition.stop(),r.ArtyomProperties.recognizing=!1,i.wildcard?i.instruction.action(i.index,i.wildcard.item):i.instruction.action(i.index);break}}r.debug(\"Quick mode : \"+n)}}else r.debug(\"No commands to process.\")}),\"remote\"==r.ArtyomProperties.mode&&(n=function(e){var t=e.results.length;if(r.triggerEvent(r.ArtyomGlobalEvents.TEXT_RECOGNIZED),\"function\"!=typeof r.ArtyomProperties.helpers.remoteProcessorHandler)return r.debug(\"The remoteProcessorService is undefined.\",\"warn\");for(var o=e.resultIndex;o<t;++o){var n=e.results[o][0].transcript;r.ArtyomProperties.helpers.remoteProcessorHandler({text:n,isFinal:e.results[o].isFinal})}}),r.ArtyomWebkitSpeechRecognition.onresult=function(e){if(r.ArtyomProperties.obeying)n(e);else{if(!r.ArtyomProperties.obeyKeyword)return;for(var t=\"\",o=\"\",i=0;i<e.results.length;++i)e.results[i].isFinal?t+=e.results[i][0].transcript:o+=e.results[i][0].transcript;r.debug(\"Artyom is not obeying\",\"warn\"),(o.indexOf(r.ArtyomProperties.obeyKeyword)>-1||t.indexOf(r.ArtyomProperties.obeyKeyword)>-1)&&(r.ArtyomProperties.obeying=!0)}},r.ArtyomProperties.recognizing)r.ArtyomWebkitSpeechRecognition.stop(),r.debug(\"Event reached : \"+r.ArtyomGlobalEvents.COMMAND_RECOGNITION_END),r.triggerEvent(r.ArtyomGlobalEvents.COMMAND_RECOGNITION_END);else try{r.ArtyomWebkitSpeechRecognition.start()}catch(e){r.triggerEvent(r.ArtyomGlobalEvents.ERROR,{code:\"recognition_overlap\",message:\"A webkitSpeechRecognition instance has been started while there's already running. Is recommendable to restart the Browser\"})}},e.prototype.initialize=function(e){var t=this;return\"object\"!=typeof e?Promise.reject(\"You must give the configuration for start artyom properly.\"):(e.hasOwnProperty(\"lang\")&&(t.ArtyomVoice=t.getVoice(e.lang),t.ArtyomProperties.lang=e.lang),e.hasOwnProperty(\"continuous\")&&(e.continuous?(this.ArtyomProperties.continuous=!0,this.ArtyomFlags.restartRecognition=!0):(this.ArtyomProperties.continuous=!1,this.ArtyomFlags.restartRecognition=!1)),e.hasOwnProperty(\"speed\")&&(this.ArtyomProperties.speed=e.speed),e.hasOwnProperty(\"soundex\")&&(this.ArtyomProperties.soundex=e.soundex),e.hasOwnProperty(\"executionKeyword\")&&(this.ArtyomProperties.executionKeyword=e.executionKeyword),e.hasOwnProperty(\"obeyKeyword\")&&(this.ArtyomProperties.obeyKeyword=e.obeyKeyword),e.hasOwnProperty(\"volume\")&&(this.ArtyomProperties.volume=e.volume),e.hasOwnProperty(\"listen\")&&(this.ArtyomProperties.listen=e.listen),e.hasOwnProperty(\"name\")&&(this.ArtyomProperties.name=e.name),e.hasOwnProperty(\"debug\")?this.ArtyomProperties.debug=e.debug:console.warn(\"The initialization doesn't provide how the debug mode should be handled. Is recommendable to set this value either to true or false.\"),e.mode&&(this.ArtyomProperties.mode=e.mode),!0===this.ArtyomProperties.listen?new Promise(function(e,o){t.hey(e,o)}):Promise.resolve(!0))},e.prototype.on=function(e,t){var o=this;return{then:function(r){var n={indexes:e,action:r};t&&(n.smart=!0),o.addCommands(n)}}},e.prototype.triggerEvent=function(e,t){var o=new CustomEvent(e,{detail:t});return document.dispatchEvent(o),o},e.prototype.repeatLastSay=function(e){var t=this.ArtyomProperties.helpers.lastSay;if(e)return t;null!=t&&this.say(t.text)},e.prototype.when=function(e,t){return document.addEventListener(e,function(e){t(e.detail)},!1)},e.prototype.remoteProcessorService=function(e){return this.ArtyomProperties.helpers.remoteProcessorHandler=e,!0},e.prototype.voiceAvailable=function(e){return void 0!==this.getVoice(e)},e.prototype.isObeying=function(){return this.ArtyomProperties.obeying},e.prototype.obey=function(){return this.ArtyomProperties.obeying=!0},e.prototype.dontObey=function(){return this.ArtyomProperties.obeying=!1},e.prototype.isSpeaking=function(){return this.ArtyomProperties.speaking},e.prototype.isRecognizing=function(){return this.ArtyomProperties.recognizing},e.prototype.getNativeApi=function(){return this.ArtyomWebkitSpeechRecognition},e.prototype.getGarbageCollection=function(){return this.ArtyomGarbageCollection},e.prototype.getVoice=function(e){var t=this.ArtyomVoicesIdentifiers[e];t||(console.warn(\"The providen language \"+e+\" isn't available, using English Great britain as default\"),t=this.ArtyomVoicesIdentifiers[\"en-GB\"]);for(var o=void 0,r=speechSynthesis.getVoices(),n=t.length,i=0;i<n&&\"break\"!==function(e){var n=r.filter(function(o){return o.name==t[e]||o.lang==t[e]})[0];if(n)return o=n,\"break\"}(i);i++);return o},e.prototype.newDictation=function(e){var t=this;if(!t.recognizingSupported())return console.error(\"SpeechRecognition is not supported in this browser\"),!1;var o=new window.webkitSpeechRecognition;return o.continuous=!0,o.interimResults=!0,o.lang=t.ArtyomProperties.lang,o.onresult=function(t){for(var o=\"\",r=\"\",n=0;n<t.results.length;++n)t.results[n].isFinal?o+=t.results[n][0].transcript:r+=t.results[n][0].transcript;e.onResult&&e.onResult(r,o)},new function(){var t=o,r=!0,n=!1;this.onError=null,this.start=function(){!0===e.continuous&&(n=!0),t.onstart=function(){\"function\"==typeof e.onStart&&!0===r&&e.onStart()},t.onend=function(){!0===n?(r=!1,t.start()):(r=!0,\"function\"==typeof e.onEnd&&e.onEnd())},t.start()},this.stop=function(){n=!1,t.stop()},\"function\"==typeof e.onError&&(t.onerror=e.onError)}},e.prototype.newPrompt=function(e){\"object\"!=typeof e&&console.error(\"Expected the prompt configuration.\");var t=Object.assign([],this.ArtyomCommands),o=this;this.emptyCommands();var r={description:\"Setting the artyom commands only for the prompt. The commands will be restored after the prompt finishes\",indexes:e.options,action:function(r,n){o.ArtyomCommands=t;var i=e.onMatch(r,n);\"function\"==typeof i?i():console.error(\"onMatch function expects a returning function to be executed\")}};e.smart&&(r.smart=!0),this.addCommands(r),void 0!==e.beforePrompt&&e.beforePrompt();var n={onStart:function(){void 0!==e.onStartPrompt&&e.onStartPrompt()},onEnd:function(){void 0!==e.onEndPrompt&&e.onEndPrompt()}};this.say(e.question,n)},e.prototype.sayRandom=function(e){if(e instanceof Array){var t=Math.floor(Math.random()*e.length);return this.say(e[t]),{text:e[t],index:t}}return console.error(\"Random quotes must be in an array !\"),null},e.prototype.setDebug=function(e){return this.ArtyomProperties.debug=!!e},e.prototype.simulateInstruction=function(e){var t=this;if(!e||\"string\"!=typeof e)return console.warn(\"Cannot execute a non string command\"),!1;var o=t.execute(e);return\"object\"!=typeof o?(console.warn(\"No command founded trying with \"+e),!1):o.instruction?(o.instruction.smart?(t.debug(\"Smart command matches with simulation, executing\",\"info\"),o.instruction.action(o.index,o.wildcard.item,o.wildcard.full)):(t.debug(\"Command matches with simulation, executing\",\"info\"),o.instruction.action(o.index)),!0):void 0},e.prototype.soundex=function(e){var t=e.toLowerCase().split(\"\"),o=t.shift(),r={a:\"\",e:\"\",i:\"\",o:\"\",u:\"\",b:1,f:1,p:1,v:1,c:2,g:2,j:2,k:2,q:2,s:2,x:2,z:2,d:3,t:3,l:4,m:5,n:5,r:6};return(o+t.map(function(e,t,o){return r[e]}).filter(function(e,t,n){return 0===t?e!==r[o]:e!==n[t-1]}).join(\"\")+\"000\").slice(0,4).toUpperCase()},e.prototype.splitStringByChunks=function(e,t){e=e||\"\";for(var o=t=t||100,r=0,n=[];e[o];)\" \"==e[o++]&&(n.push(e.substring(r,o)),r=o,o+=t);return n.push(e.substr(r)),n},e.prototype.redirectRecognizedTextOutput=function(e){return\"function\"!=typeof e?(console.warn(\"Expected function to handle the recognized text ...\"),!1):(this.ArtyomProperties.helpers.redirectRecognizedTextOutput=e,!0)},e.prototype.restart=function(){var e=this,t=e.ArtyomProperties;return new Promise(function(o,r){e.fatality().then(function(){e.initialize(t).then(o,r)})})},e.prototype.talk=function(e,t,o,r){var n=this,i=new SpeechSynthesisUtterance;i.text=e,i.volume=this.ArtyomProperties.volume,i.rate=this.ArtyomProperties.speed;var s=n.getVoice(n.ArtyomProperties.lang);r&&r.hasOwnProperty(\"lang\")&&(s=n.getVoice(r.lang)),this.Device.isMobile?s&&(i.lang=s.lang):i.voice=s,1==t&&i.addEventListener(\"start\",function(){n.ArtyomProperties.speaking=!0,n.debug(\"Event reached : \"+n.ArtyomGlobalEvents.SPEECH_SYNTHESIS_START),n.triggerEvent(n.ArtyomGlobalEvents.SPEECH_SYNTHESIS_START),r&&\"function\"==typeof r.onStart&&r.onStart.call(i)}),t>=o&&i.addEventListener(\"end\",function(){n.ArtyomProperties.speaking=!1,n.debug(\"Event reached : \"+n.ArtyomGlobalEvents.SPEECH_SYNTHESIS_END),n.triggerEvent(n.ArtyomGlobalEvents.SPEECH_SYNTHESIS_END),r&&\"function\"==typeof r.onEnd&&r.onEnd.call(i)}),this.debug(t+\" text chunk processed succesfully out of \"+o),this.ArtyomGarbageCollection.push(i),window.speechSynthesis.speak(i)},e.prototype.say=function(e,t){var o=this,r=[];if(this.speechSupported()){if(\"string\"!=typeof e)return console.warn(\"Artyom expects a string to speak \"+typeof e+\" given\");if(!e.length)return console.warn(\"Cannot speak empty string\");e.length>115?e.split(/,|:|\\. |;/).forEach(function(e,t){if(e.length>115){var n=o.splitStringByChunks(e,115);r.push.apply(r,n)}else r.push(e)}):r.push(e),(r=r.filter(function(e){return e})).forEach(function(e,n){var i=n+1;e&&o.talk(e,i,r.length,t)}),o.ArtyomProperties.helpers.lastSay={text:e,date:new Date}}},e}();","import Artyom from 'artyom.js';\nexport default class ArtyomAssistant {\n    static instance = null;\n    \n    // Singleton pattern ensures only one instance exists\n    static getInstance() {\n      if (!this.instance) {\n        this.instance = new ArtyomAssistant();\n      }\n      return this.instance;\n    }\n  \n    constructor() {\n      // Prevent multiple instantiations\n      if (ArtyomAssistant.instance) {\n        return ArtyomAssistant.instance;\n      }\n  \n      // Initialize core speech recognition\n      this.artyom = new Artyom();\n      this.isListening = false;\n  \n      // Set up a default help command\n      this.setupDefaultCommands();\n  \n      // Store the instance\n      ArtyomAssistant.instance = this;\n    }\n  \n    // Configure default voice commands\n    setupDefaultCommands() {\n      this.artyom.addCommands({\n        indexes: [\"hello\", \"help\"],\n        action: () => {\n          console.log(\"Default command triggered!\");\n          // Optionally speak a response\n          this.artyom.say(\"How can I assist you today?\");\n        }\n      });\n      console.log(\"ArtyomAssistant initialized with default commands.\");\n    }\n  \n    // Robust method for adding voice commands\n    addCommand(command, callback) {\n      try {\n        // Ensure valid input\n        if (!command || !callback) {\n          throw new Error(\"Both command and callback must be provided.\");\n        }\n  \n        // Support single or multiple commands\n        const commands = Array.isArray(command) ? command : [command];\n        \n        this.artyom.addCommands({\n          indexes: commands,\n          action: (...args) => {\n            try {\n              // Wrap callback to add error handling\n              callback(...args);\n            } catch (callbackError) {\n              console.error(`Error in command callback:`, callbackError);\n              // Optional: Provide voice feedback about the error\n              this.artyom.say(\"Sorry, there was an error processing your command.\");\n            }\n          }\n        });\n  \n        console.log(`Added command(s): ${commands.join(\", \")}`);\n      } catch (err) {\n        console.error(\"Error adding command(s):\", err.message);\n        // Provide user feedback about command addition failure\n        this.showErrorNotification(\"Could not add voice command\");\n      }\n    }\n  \n    // Comprehensive microphone permission and speech recognition setup\n    startListening() {\n      // Check if already listening to prevent duplicate initialization\n      if (this.isListening) {\n        console.warn(\"Speech recognition is already active.\");\n        return Promise.resolve();\n      }\n  \n      // Return a promise to handle async permission and initialization\n      return new Promise((resolve, reject) => {\n        // First, check microphone permissions\n        navigator.permissions.query({ name: 'microphone' })\n          .then((permissionStatus) => {\n            switch(permissionStatus.state) {\n              case 'granted':\n                this.initializeSpeechRecognition(resolve, reject);\n                break;\n              case 'prompt':\n                this.requestMicrophonePermission(resolve, reject);\n                break;\n              case 'denied':\n                this.handleMicrophoneDenied(reject);\n                break;\n            }\n          })\n          .catch((error) => {\n            console.error('Permission check failed:', error);\n            this.handleMicrophoneDenied(reject);\n          });\n      });\n    }\n  \n    // Request microphone access explicitly\n    requestMicrophonePermission(resolve, reject) {\n      navigator.mediaDevices.getUserMedia({ audio: true })\n        .then(() => this.initializeSpeechRecognition(resolve, reject))\n        .catch((error) => {\n          console.error('Microphone permission denied:', error);\n          this.handleMicrophoneDenied(reject);\n        });\n    }\n  \n    // Initialize Artyom speech recognition\n    initializeSpeechRecognition(resolve, reject) {\n      this.artyom.initialize({\n        lang: \"en-US\",\n        continuous: true,\n        listen: true,\n        debug: true,\n        recognitionFallback: true,\n        executionKeyword: null\n      })\n      .then(() => {\n        this.isListening = true;\n        console.log(\"Speech recognition initialized successfully\");\n        this.showSuccessNotification(\"Speech recognition activated\");\n        resolve();\n      })\n      .catch((error) => {\n        console.error('Speech recognition initialization failed:', error);\n        this.showErrorNotification(\"Could not start speech recognition\");\n        reject(error);\n      });\n    }\n  \n    // Comprehensive stop listening method\n    stopListening() {\n      // Check if already stopped\n      if (!this.isListening) {\n        console.warn(\"Speech recognition is not currently active.\");\n        return Promise.resolve();\n      }\n  \n      return this.artyom.fatality()\n        .then(() => {\n          this.isListening = false;\n          console.log(\"Speech recognition stopped successfully\");\n          this.showSuccessNotification(\"Speech recognition deactivated\");\n        })\n        .catch((err) => {\n          console.error(\"Error stopping speech recognition:\", err.message);\n          this.showErrorNotification(\"Could not stop speech recognition\");\n        });\n    }\n  \n    // Toggle listening state\n    toggleListening() {\n      return this.isListening ? this.stopListening() : this.startListening();\n    }\n  \n    // User notification methods (can be customized)\n    showSuccessNotification(message) {\n      // Implement your preferred notification method\n      console.log(`✅ ${message}`);\n      // Could use browser notifications, custom UI, or voice feedback\n    }\n  \n    showErrorNotification(message) {\n      // Implement your preferred error notification method\n      console.error(`❌ ${message}`);\n      // Could use browser notifications, custom UI, or voice feedback\n    }\n  \n    // Handle microphone permission denial\n    handleMicrophoneDenied(reject) {\n      const errorMessage = `\n        Microphone access is required for Speech-to-Text.\n        Please:\n        1. Check your browser settings\n        2. Ensure microphone permissions are granted\n        3. Reload the extension\n      `;\n      \n      console.error(errorMessage);\n      this.showErrorNotification(errorMessage);\n      \n      // Reject the promise to signal initialization failure\n      reject(new Error('Microphone access denied'));\n    }\n  \n    // Getter for listening state\n    isArtyomListening() {\n      return this.isListening;\n    }\n  }","__webpack_require__.h = () => (\"236aea0dab99c51dc1f9\")"],"names":["Artyom","ArtyomAssistant","_classCallCheck","instance","artyom","isListening","setupDefaultCommands","_createClass","key","value","_this","addCommands","indexes","action","console","log","say","addCommand","command","callback","_this2","Error","commands","_Array$isArray","apply","arguments","callbackError","error","concat","join","err","message","showErrorNotification","startListening","_this3","warn","_Promise","resolve","reject","navigator","permissions","query","name","then","permissionStatus","state","initializeSpeechRecognition","requestMicrophonePermission","handleMicrophoneDenied","_this4","mediaDevices","getUserMedia","audio","_this5","initialize","lang","continuous","listen","debug","recognitionFallback","executionKeyword","showSuccessNotification","stopListening","_this6","fatality","toggleListening","errorMessage","isArtyomListening","getInstance","_defineProperty","default"],"sourceRoot":""}