{"version":3,"file":"sidebar.f09bb2b467810675ca15.hot-update.js","mappings":"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","sources":["webpack://tean-mate/./2-features/STT/ArtyomAssistant.js","webpack://tean-mate/webpack/runtime/getFullHash"],"sourcesContent":["import Artyom from '/node_modules/artyom.js/build/artyom.js';\n\nexport default class ArtyomAssistant {\n    constructor(sidebarController) {\n        this.artyom = new Artyom();\n        this.sidebarController = sidebarController; // Reference to SidebarController\n        this.isListening = false;\n        this.setupCommands();\n    }\n\n    setupCommands() {\n        const triggerAction = this.triggerExtensionAction.bind(this);\n        this.artyom.addCommands([\n            {\n                indexes: [\"text to speech\", \"start reading\"],\n                action: () => {triggerAction(\"tts\");}\n            },\n            {\n                indexes: [\"stop\", \"pause\"],\n                action: () => {triggerAction(\"toggle-reading\");}\n            },\n            {\n                indexes: [\"sign language\", \"show sign language\"],\n                action: () => {\n                    triggerAction(\"signLanguage\");\n                }\n            },\n            {\n                indexes: [\"image caption\", \"describe image\"],\n                action: () => {\n                    triggerAction(\"imageCaption\");\n                }\n            },\n            {\n                indexes: [\"next\", \"skip next\"],\n                action: () => {\n                    triggerAction(\"skip-next\");\n                }\n            },\n            {\n                indexes: [\"back\", \"skip back\"],\n                action: () => {\n                    triggerAction(\"skip-previous\");\n                }\n            },\n            {\n                indexes: [\"open link\", \"open this link\"],\n                action: () => {\n                    triggerAction(\"access-link\");\n                }\n            },\n            // New search command\n            {\n                indexes: [\"search for *\", \"find *\"],\n                smart: true,\n                action: (i, wildcard) => {\n                    triggerAction(\"search\", wildcard);\n                }\n            }\n        ]);\n\n        this.artyom.redirectRecognizedTextOutput((recognized, isFinal) => {\n            const recognizedTextDiv = document.getElementById(\"recognizedText\");\n            recognizedTextDiv.textContent = isFinal ? `You said: ${recognized}` : recognized;\n        });\n    }\n\n    startListening() {\n        if (!this.isListening) {\n            this.isListening = true;\n            console.log(\"Artyom is now listening...\");\n            this.artyom.fatality();\n            setTimeout(() => {\n                this.artyom.initialize({\n                    lang: \"en-US\",\n                    continuous: true,\n                    listen: true,\n                    debug: true,\n                    speed: 1,\n                }).then(() => {\n                    console.log(\"Artyom is listening!\");\n                    this.isListening = true;\n                }).catch(err => {\n                    console.error(\"Artyom initialization error:\", err);\n                });\n            }, 250);\n        }\n    }\n\n    stopListening() {\n        if (this.isListening) {\n            this.isListening = false;\n            console.log(\"Artyom stopped listening.\");\n            this.artyom.fatality();\n            console.log(\"Artyom has stopped listening.\");\n            this.isListening = false;\n        }\n    }\n\n    toggleListening() {\n        if (this.isListening) {\n            this.stopListening();\n        } else {\n            this.startListening();\n        }\n        return this.isListening;\n    }\n\n    triggerExtensionAction(action, query = null) {\n        if (this.sidebarController) {\n            console.log(`Triggering action: ${action}, Query: ${query}`);\n            if (query) {\n                this.sidebarController.triggerButtonAction(action, query);\n            } else {\n                this.sidebarController.triggerButtonAction(action);\n            }\n        } else {\n            console.warn(\"SidebarController is not set.\");\n        }\n    }\n}\n\n","__webpack_require__.h = () => (\"52baf820b34bfe9bc1c6\")"],"names":["Artyom","ArtyomAssistant","sidebarController","_classCallCheck","artyom","isListening","setupCommands","_createClass","key","value","_context","triggerAction","_bindInstanceProperty","triggerExtensionAction","call","addCommands","indexes","action","smart","i","wildcard","redirectRecognizedTextOutput","recognized","isFinal","recognizedTextDiv","document","getElementById","textContent","concat","startListening","_this","console","log","fatality","_setTimeout","initialize","lang","continuous","listen","debug","speed","then","err","error","stopListening","toggleListening","query","arguments","length","undefined","_context2","_concatInstanceProperty","triggerButtonAction","warn","default"],"sourceRoot":""}